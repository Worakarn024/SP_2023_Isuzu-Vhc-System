(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{659:function(t,e,n){t.exports=n.p+"img/capture.6d22c36.png"},673:function(t,e,n){t.exports=n.p+"img/add-image.49bde1e.png"},696:function(t,e,n){var content=n(721);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(20).default)("6a2a449e",content,!0,{sourceMap:!1})},700:function(t,e,n){"use strict";n.r(e);var o=n(844),r=(n(6),n(13),n(29),n(181),{props:{editable:{type:Boolean,default:!0},editableText:{type:Boolean,default:!0}},data:function(){return{editInbuttonText:!1,showimg:!1,showTextField:!1,step1Buttons:[]}},computed:{showAddButton:function(){return 0===this.step1Buttons.length},page:function(){return"สร้างรายการ VHC"}},watch:{editable:{handler:function(t){this.editInbuttonText=t},deep:!0}},methods:{validateImgText:function(){return this.step1Buttons.some((function(button){return null!==button.selectedFile&&""!==button.comment}))?(this.step1Buttons.forEach((function(button){button.showError=!0})),!0):(this.step1Buttons.forEach((function(button){null===button.selectedFile||""===button.comment?button.showError=!0:button.showError=!1})),!1)},addButton:function(){this.step1Buttons.every((function(button){return null!==button.selectedFile&&""!==button.comment}))||0===this.step1Buttons.length?(this.step1Buttons.push({selectedFile:null,comment:"",showError:!1}),this.showimg=!0,this.showTextField=!0):this.step1Buttons.forEach((function(button){(null===button.selectedFile||""===button.comment||null===button.selectedFile&&""===button.comment)&&(button.showError=!0)}))},selectFile:function(t,e){var n=this;if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)if(/Mobi/.test(navigator.userAgent))this.$refs["fileInput"+t+"-"+e][0].click();else{navigator.mediaDevices.getUserMedia({video:{width:{ideal:1920},height:{ideal:1080},facingMode:"environment"}}).then((function(o){var video=document.createElement("video");video.setAttribute("autoplay",!0),video.setAttribute("style","display: none"),document.body.appendChild(video),video.srcObject=o,n.$data.videoElement=video;var canvas=document.createElement("canvas"),r=canvas.getContext("2d");canvas.width=320,canvas.height=200,document.body.appendChild(canvas);!function o(){r.drawImage(video,0,0,canvas.width,canvas.height);var l,c=canvas.toDataURL("image/jpeg");1===t?l=n.step1Buttons:2===t?l=n.step2Buttons:3===t&&(l=n.step3Buttons),l[e].selectedFile=c;var d="button-"+t+"-"+e,h=document.getElementById(d);h&&(h.style.backgroundImage="url("+c+")"),requestAnimationFrame(o)}()})).catch((function(t){console.error("Error accessing camera:",t)}))}else this.$refs["fileInput"+t+"-"+e][0].click()},previewFile:function(t,e,n){var o=this,r=n.target.files[0],l=new FileReader;l.readAsDataURL(r),l.onload=function(){var n;1===t?n=o.step1Buttons:2===t?n=o.step2Buttons:3===t&&(n=o.step3Buttons),n[e].selectedFile=l.result,o.showAddButtonAlert=!1}},deleteButton:function(t,e){var n;1===t&&(n=this.step1Buttons),n.splice(e,1)},returnData:function(){return this.step1Buttons}}}),l=(n(720),n(43)),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("div",[e("br"),t._v(" "),t._l(t.step1Buttons,(function(button,r){return e("div",{key:r},[e("button",{directives:[{name:"show",rawName:"v-show",value:t.showimg,expression:"showimg"}],staticClass:"btn-1",attrs:{id:"button-1-"+r},on:{click:function(e){return t.selectFile(1,r)}}},[button.selectedFile?e("img",{attrs:{src:button.selectedFile}}):e("img",{staticStyle:{width:"40px",height:"40px"},attrs:{src:n(659)}}),t._v(" "),button.selectedFile?e("div",{staticClass:"delete-icon",on:{click:function(e){return t.deleteButton(1,r)}}},[e("i",{staticClass:"mdi mdi-delete"})]):t._e()]),t._v(" "),e("input",{ref:"fileInput1-"+r,refInFor:!0,staticStyle:{display:"none"},attrs:{accept:"image/png, image/jpeg",type:"file",maxSize:314572800,required:""},on:{change:function(e){return t.previewFile(1,r,e)}}}),t._v(" "),!button.selectedFile&&button.showError?e("span",{staticClass:"alert-message"},[t._v("โปรดเลือกรูปภาพ")]):t._e(),t._v(" "),e(o.a,{directives:[{name:"show",rawName:"v-show",value:t.showTextField,expression:"showTextField"}],staticClass:"center-button",style:{width:"85%",height:"100%"},attrs:{label:"รายละเอียดเพิ่มเติม",filled:""},model:{value:button.comment,callback:function(e){t.$set(button,"comment",e)},expression:"button.comment"}}),t._v(" "),!button.comment&&button.showError?e("span",{staticClass:"alert-message"},[t._v("โปรดกรอกรายละเอียดเพิ่มเติม")]):t._e()],1)})),t._v(" "),e("button",{staticClass:"btn-1",attrs:{disabled:!t.editInbuttonText},on:{click:t.addButton}},[e("img",{staticStyle:{width:"40px",height:"40px"},attrs:{src:n(673)}})]),t._v(" "),t.editableText?e("p",{staticClass:"alert-message"},[t._v("โปรดกรอกรูปภาพให้ครบทุกขั้นตอน")]):t._e()],2)}),[],!1,null,null,null);e.default=component.exports},720:function(t,e,n){"use strict";n(696)},721:function(t,e,n){var o=n(19)((function(i){return i[1]}));o.push([t.i,".alert-message{color:red;font-size:12px;margin-top:5px}.btn-1 img{height:100%;margin-right:0;width:100%}.btn-1{border:2px solid gray;border-radius:8px;color:gray;font-size:20px;font-weight:700;height:110px;margin-right:10px;padding:0;position:relative;width:160px}.btn-1,.delete-icon{align-items:center;background-color:#fff;display:flex;justify-content:center}.delete-icon{border-radius:50%;color:#c70606;cursor:pointer;height:25px;position:absolute;right:5px;top:5px;width:25px}",""]),o.locals={},t.exports=o}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[35,14],{639:function(t,e,n){var content=n(642);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(20).default)("0fd9b60e",content,!0,{sourceMap:!1})},641:function(t,e,n){"use strict";n(639)},642:function(t,e,n){var l=n(19)((function(i){return i[1]}));l.push([t.i,".navbar{align-items:center;display:flex;height:68px;justify-content:space-between;padding:10px}.backBut,.navbar{background-color:#cf1818}.text-center{color:#fff;flex:1;text-align:center}@media screen and (max-width:768px){.navbar{height:auto}.Text-center{margin-bottom:20px;margin-top:20px}}",""]),l.locals={},t.exports=l},643:function(t,e,n){"use strict";n.r(e);var l=n(212),r={props:{title:{type:String,default:"MyApp"}},methods:{goBack:function(){this.$router.go(-1)}}},o=(n(641),n(43)),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("nav",{staticClass:"navbar"},[e("button",{staticClass:"backBut",on:{click:t.goBack}},[e(l.a,[t._v("mdi-light mdi-chevron-left")])],1),t._v(" "),e("h1",{staticClass:"text-center"},[t._v(t._s(t.title))])])}),[],!1,null,null,null);e.default=component.exports},744:function(t,e,n){var content=n(828);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(20).default)("004de1e2",content,!0,{sourceMap:!1})},822:function(t,e,n){t.exports=n.p+"img/frontcar.200b845.jpg"},823:function(t,e,n){t.exports=n.p+"img/leftcar.d9e2d81.jpg"},824:function(t,e,n){t.exports=n.p+"img/backcar.3ceb437.jpg"},825:function(t,e,n){t.exports=n.p+"img/rightcar.c8a2581.jpg"},826:function(t,e,n){t.exports=n.p+"img/innervech.a3c14d2.jpg"},827:function(t,e,n){"use strict";n(744)},828:function(t,e,n){var l=n(19)((function(i){return i[1]}));l.push([t.i,".uploadbottombutt{margin-right:auto;padding-bottom:30px;text-align:center}.uploadbottombuttmargin{margin:0}.alert-message{color:red;font-size:12px;margin-top:5px}.btn-1 img{height:100%;margin-right:0;width:100%}.btn-1{border:2px solid gray;border-radius:8px;color:gray;font-size:20px;font-weight:700;height:110px;margin-bottom:20px;margin-right:10px;padding:0;position:relative;width:160px}.btn-1,.delete-icon{background-color:#fff}.delete-icon{align-items:center;border-radius:50%;color:#c70606;cursor:pointer;display:flex;height:25px;position:absolute;right:5px;top:5px;width:25px}.btn-distance,.delete-icon,.text-dialog{justify-content:center}.btn-distance{display:flex}",""]),l.locals={},t.exports=l},862:function(t,e,n){"use strict";n.r(e);var l=n(623),r=n(209),o=n(180),c=n(634),d=n(866),m=n(684),f=n(844),h=n(4),v=(n(26),n(6),n(29),n(13),n(45),n(25),n(57),{components:{buttonText:n(700).default},data:function(){return{one:1,step2comment:"",step3comment:"",step4comment:"",step5comment:"",step6comment:"",editableText2:!0,editable2:!1,editableText3:!0,editable3:!1,editableText4:!0,editable4:!1,editableText5:!0,editable5:!1,editableText6:!0,editable6:!1,dialog:!1,step2Buttons:[{selectedFile:null,showError:!1}],step3Buttons:[{selectedFile:null,showError:!1}],step4Buttons:[{selectedFile:null,showError:!1}],step5Buttons:[{selectedFile:null,showError:!1}],step6Buttons:[{selectedFile:null,showError:!1}]}},computed:{page:function(){return"สร้างรายการ VHC"}},watch:{step2Buttons:{handler:function(t){this.step2Buttons.some((function(button){return null===button.selectedFile}))?(this.editable2=!1,this.editableText2=!0):(this.editable2=!0,this.editableText2=!1)},deep:!0},step3Buttons:{handler:function(t){this.step3Buttons.some((function(button){return null===button.selectedFile}))?(this.editable3=!1,this.editableText3=!0):(this.editable3=!0,this.editableText3=!1)},deep:!0},step4Buttons:{handler:function(t){this.step4Buttons.some((function(button){return null===button.selectedFile}))?(this.editable4=!1,this.editableText4=!0):(this.editable4=!0,this.editableText4=!1)},deep:!0},step5Buttons:{handler:function(t){this.step5Buttons.some((function(button){return null===button.selectedFile}))?(this.editable5=!1,this.editableText5=!0):(this.editable5=!0,this.editableText5=!1)},deep:!0},step6Buttons:{handler:function(t){this.step6Buttons.some((function(button){return null===button.selectedFile}))?(this.editable6=!1,this.editableText6=!0):(this.editable6=!0,this.editableText6=!1)},deep:!0}},methods:{toBack:function(){this.$router.go(-1)},selectFile:function(t,e){var n=this;if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)if(/Mobi/.test(navigator.userAgent))this.$refs["fileInput"+t+"-"+e][0].click();else{navigator.mediaDevices.getUserMedia({video:{width:{ideal:1920},height:{ideal:1080},facingMode:"environment"}}).then((function(l){var video=document.createElement("video");video.setAttribute("autoplay",!0),video.setAttribute("style","display: none"),document.body.appendChild(video),video.srcObject=l,n.$data.videoElement=video;var canvas=document.createElement("canvas"),r=canvas.getContext("2d");canvas.width=320,canvas.height=200,document.body.appendChild(canvas);!function l(){r.drawImage(video,0,0,canvas.width,canvas.height);var o,c=canvas.toDataURL("image/jpeg");2===t?o=n.step2Buttons:3===t?o=n.step3Buttons:4===t?o=n.step4Buttons:5===t?o=n.step5Buttons:6===t&&(o=n.step6Buttons),o[e].selectedFile=c;var d="button-"+t+"-"+e,m=document.getElementById(d);m&&(m.style.backgroundImage="url("+c+")"),requestAnimationFrame(l)}()})).catch((function(t){console.error("Error accessing camera:",t)}))}else this.$refs["fileInput"+t+"-"+e][0].click()},previewFile:function(t,e,n){var l=this,r=n.target.files[0],o=new FileReader;o.readAsDataURL(r),o.onload=function(){var n;2===t?n=l.step2Buttons:3===t?n=l.step3Buttons:4===t?n=l.step4Buttons:5===t?n=l.step5Buttons:6===t&&(n=l.step6Buttons),n[e].selectedFile=o.result}},deleteButton:function(t,e){var n;2===t?n=this.step2Buttons:3===t?n=this.step3Buttons:4===t?n=this.step4Buttons:5===t?n=this.step5Buttons:6===t&&(n=this.step6Buttons),n[e].selectedFile=null},confirmDialog:function(){this.dialog=!1},nextPage:function(){console.log(this.$refs.step1ref.validateImg(),this.$refs.imageRef2.validateImgText(),this.$refs.imageRef3.validateImgText(),this.$refs.imageRef4.validateImgText(),this.$refs.imageRef5.validateImgText(),this.$refs.imageRef6.validateImgText());var t=this.$refs.step1ref.validateImg(),e=this.$refs.imageRef2.validateImgText(),n=this.$refs.imageRef3.validateImgText(),l=this.$refs.imageRef4.validateImgText(),r=this.$refs.imageRef5.validateImgText(),o=this.$refs.imageRef6.validateImgText();if(!(t&&e&&n&&l&&r&&o))if(this.step2Buttons.some((function(button){return null===button.selectedFile}))||this.step3Buttons.some((function(button){return null===button.selectedFile}))||this.step4Buttons.some((function(button){return null===button.selectedFile}))||this.step5Buttons.some((function(button){return null===button.selectedFile}))||this.step6Buttons.some((function(button){return null===button.selectedFile})))this.step2Buttons.forEach((function(button){button.showError=!0})),this.step3Buttons.forEach((function(button){button.showError=!0})),this.step4Buttons.forEach((function(button){button.showError=!0})),this.step5Buttons.forEach((function(button){button.showError=!0})),this.step6Buttons.forEach((function(button){button.showError=!0})),this.dialog=!0;else{var data=this.$refs.step1ref.returnImageData();data.step.map((function(data){return data.image}));var c=[{image1:data.step[0].image},{image2:data.step[1].image},{image3:data.step[2].image}],d={id:"1",comment:data.comment},m=[{image4:this.step2Buttons[0].selectedFile}],f=this.$refs.imageRef2.returnData(),h={id:"2",comment:this.step2comment},v=[{image5:this.step3Buttons[0].selectedFile}],x=this.$refs.imageRef3.returnData(),_={id:"3",comment:this.step3comment},B=[{image6:this.step4Buttons[0].selectedFile}],F=this.$refs.imageRef4.returnData(),y={id:"4",comment:this.step4comment},w=[{image7:this.step5Buttons[0].selectedFile}],C=this.$refs.imageRef5.returnData(),k={id:"5",comment:this.step5comment},T=[{image8:this.step6Buttons[0].selectedFile}],I=this.$refs.imageRef6.returnData(),j={id:"6",comment:this.step6comment},$=c.concat(m,v,B,w,T),E=data.additional.concat(f,x,F,C,I),R=[],S=[d,h,_,y,k,j],D=0;E.forEach((function(t,e){var data={key:D+=1,massage:t.comment,voice:"",image:t.selectedFile};R.push(data)})),this.$store.dispatch("setpictureStep",$),this.$store.dispatch("setadditionalStep",R),this.$store.dispatch("setcommentStep",S),this.$router.push("/vhc/preliminary-check")}},sleepTime:function(t){return Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,t)}));case 2:case"end":return e.stop()}}),e)})))()}}}),x=(n(827),n(43)),component=Object(x.a)(v,(function(){var t=this,e=t._self._c;return e("div",[e("nav-title",{attrs:{title:t.page}}),t._v(" "),e(c.a,[e("h3",[t._v("การบันทึกรูปภาพ (ขั้นตอนที่ 1 ภายในรถ)")]),t._v(" "),e("hr"),t._v(" "),e("vhc-step1",{ref:"step1ref"}),t._v(" "),e("h3",[t._v("การบันทึกรูปภาพ (ขั้นตอนที่ 2 ด้านหน้ารถ)")]),t._v(" "),e("hr"),t._v(" "),e(c.a,[e(m.a,{staticClass:"justify-center"},[e("div",[e("button",{staticClass:"btn-1"},[e("img",{attrs:{src:n(822)}})])]),t._v(" "),t._l(t.step2Buttons,(function(button,l){return e("div",{key:l},[e("div",[e("button",{staticClass:"btn-1",on:{click:function(e){return t.selectFile(2,l)}}},[button.selectedFile?e("img",{attrs:{src:button.selectedFile}}):e("img",{staticStyle:{width:"40px",height:"40px"},attrs:{src:n(659)}}),t._v(" "),button.selectedFile?e("div",{staticClass:"delete-icon",on:{click:function(e){return t.deleteButton(2,l)}}},[e("i",{staticClass:"mdi mdi-delete"})]):t._e()]),t._v(" "),e("input",{ref:"fileInput2-"+l,refInFor:!0,staticStyle:{display:"none"},attrs:{accept:"image/png, image/jpeg",type:"file",maxSize:314572800,required:""},on:{change:function(e){return t.previewFile(2,l,e)}}}),t._v(" "),!button.selectedFile&&button.showError?e("span",{staticClass:"alert-message"},[t._v("โปรดเลือกรูปภาพ")]):t._e()])])}))],2),t._v(" "),e("br"),t._v(" "),e("div",[e(f.a,{attrs:{label:"รายละเอียดเพิ่มเติมขั้นตอนที่ 2",filled:""},model:{value:t.step2comment,callback:function(e){t.step2comment=e},expression:"step2comment"}})],1),t._v(" "),e(m.a,{staticClass:"justify-center"},[e("button-text",{ref:"imageRef2",attrs:{editable:t.editable2,"editable-text":t.editableText2}})],1)],1),t._v(" "),e("h3",[t._v("การบันทึกรูปภาพ (ขั้นตอนที่ 3 มุมซ้ายของรถ)")]),t._v(" "),e("hr"),t._v(" "),e(c.a,{attrs:{fluid:""}},[e(m.a,{staticClass:"justify-center"},[e("div",[e("button",{staticClass:"btn-1"},[e("img",{attrs:{src:n(823)}})])]),t._v(" "),t._l(t.step3Buttons,(function(button,l){return e("div",{key:l},[e("button",{staticClass:"btn-1",on:{click:function(e){return t.selectFile(3,l)}}},[button.selectedFile?e("img",{attrs:{src:button.selectedFile}}):e("img",{staticStyle:{width:"40px",height:"40px"},attrs:{src:n(659)}}),t._v(" "),button.selectedFile?e("div",{staticClass:"delete-icon",on:{click:function(e){return t.deleteButton(3,l)}}},[e("i",{staticClass:"mdi mdi-delete"})]):t._e()]),t._v(" "),e("input",{ref:"fileInput3-"+l,refInFor:!0,staticStyle:{display:"none"},attrs:{accept:"image/png, image/jpeg",type:"file",maxSize:314572800,required:""},on:{change:function(e){return t.previewFile(3,l,e)}}}),t._v(" "),!button.selectedFile&&button.showError?e("span",{staticClass:"alert-message"},[t._v("โปรดเลือกรูปภาพ")]):t._e()])}))],2),t._v(" "),e("br"),t._v(" "),e("div",[e(f.a,{attrs:{label:"รายละเอียดเพิ่มเติมขั้นตอนที่ 3",filled:""},model:{value:t.step3comment,callback:function(e){t.step3comment=e},expression:"step3comment"}})],1),t._v(" "),e(m.a,{staticClass:"justify-center"},[e("button-text",{ref:"imageRef3",attrs:{editable:t.editable3,"editable-text":t.editableText3}})],1)],1),t._v(" "),e("h3",[t._v("การบันทึกรูปภาพ (ขั้นตอนที่ 4 หลังรถ)")]),t._v(" "),e("hr"),t._v(" "),e(c.a,{attrs:{fluid:""}},[e(m.a,{staticClass:"justify-center"},[e("div",[e("button",{staticClass:"btn-1"},[e("img",{attrs:{src:n(824)}})])]),t._v(" "),t._l(t.step4Buttons,(function(button,l){return e("div",{key:l},[e("div",{staticClass:"wrapper"},[e("button",{staticClass:"btn-1",on:{click:function(e){return t.selectFile(4,l)}}},[button.selectedFile?e("img",{attrs:{src:button.selectedFile}}):e("img",{staticStyle:{width:"40px",height:"40px"},attrs:{src:n(659)}}),t._v(" "),button.selectedFile?e("div",{staticClass:"delete-icon",on:{click:function(e){return t.deleteButton(4,l)}}},[e("i",{staticClass:"mdi mdi-delete"})]):t._e()]),t._v(" "),e("input",{ref:"fileInput4-"+l,refInFor:!0,staticStyle:{display:"none"},attrs:{accept:"image/png, image/jpeg",type:"file",maxSize:314572800,required:""},on:{change:function(e){return t.previewFile(4,l,e)}}}),t._v(" "),!button.selectedFile&&button.showError?e("span",{staticClass:"alert-message"},[t._v("โปรดเลือกรูปภาพ")]):t._e()])])}))],2),t._v(" "),e("br"),t._v(" "),e("div",[e(f.a,{attrs:{label:"รายละเอียดเพิ่มเติมขั้นตอนที่ 4",filled:""},model:{value:t.step4comment,callback:function(e){t.step4comment=e},expression:"step4comment"}})],1),t._v(" "),e(m.a,{staticClass:"justify-center"},[e("button-text",{ref:"imageRef4",attrs:{editable:t.editable4,"editable-text":t.editableText4}})],1)],1),t._v(" "),e("h3",[t._v("การบันทึกรูปภาพ (ขั้นตอนที่ 5 มุมขวาของรถ)")]),t._v(" "),e("hr"),t._v(" "),e(c.a,{attrs:{fluid:""}},[e(m.a,{staticClass:"justify-center"},[e("div",[e("button",{staticClass:"btn-1"},[e("img",{attrs:{src:n(825)}})])]),t._v(" "),t._l(t.step5Buttons,(function(button,l){return e("div",{key:l},[e("div",{staticClass:"wrapper"},[e("button",{staticClass:"btn-1",on:{click:function(e){return t.selectFile(5,l)}}},[button.selectedFile?e("img",{attrs:{src:button.selectedFile}}):e("img",{staticStyle:{width:"40px",height:"40px"},attrs:{src:n(659)}}),t._v(" "),button.selectedFile?e("div",{staticClass:"delete-icon",on:{click:function(e){return t.deleteButton(5,l)}}},[e("i",{staticClass:"mdi mdi-delete"})]):t._e()]),t._v(" "),e("input",{ref:"fileInput5-"+l,refInFor:!0,staticStyle:{display:"none"},attrs:{accept:"image/png, image/jpeg",type:"file",maxSize:314572800,required:""},on:{change:function(e){return t.previewFile(5,l,e)}}}),t._v(" "),!button.selectedFile&&button.showError?e("span",{staticClass:"alert-message"},[t._v("โปรดเลือกรูปภาพ")]):t._e()])])}))],2),t._v(" "),e("br"),t._v(" "),e("div",[e(f.a,{attrs:{label:"รายละเอียดเพิ่มเติมขั้นตอนที่ 5",filled:""},model:{value:t.step5comment,callback:function(e){t.step5comment=e},expression:"step5comment"}})],1),t._v(" "),e(m.a,{staticClass:"justify-center"},[e("button-text",{ref:"imageRef5",attrs:{editable:t.editable5,"editable-text":t.editableText5}})],1)],1),t._v(" "),e("h3",[t._v("การบันทึกรูปภาพ (ขั้นตอนที่ 6 ตัวเครื่องรถ)")]),t._v(" "),e("hr"),t._v(" "),e(c.a,{attrs:{fluid:""}},[e(m.a,{staticClass:"justify-center"},[e("div",[e("button",{staticClass:"btn-1"},[e("img",{attrs:{src:n(826)}})])]),t._v(" "),t._l(t.step6Buttons,(function(button,l){return e("div",{key:l},[e("div",{staticClass:"wrapper"},[e("button",{staticClass:"btn-1",on:{click:function(e){return t.selectFile(6,l)}}},[button.selectedFile?e("img",{attrs:{src:button.selectedFile}}):e("img",{staticStyle:{width:"40px",height:"40px"},attrs:{src:n(659)}}),t._v(" "),button.selectedFile?e("div",{staticClass:"delete-icon",on:{click:function(e){return t.deleteButton(6,l)}}},[e("i",{staticClass:"mdi mdi-delete"})]):t._e()]),t._v(" "),e("input",{ref:"fileInput6-"+l,refInFor:!0,staticStyle:{display:"none"},attrs:{accept:"image/png, image/jpeg",type:"file",maxSize:314572800,required:""},on:{change:function(e){return t.previewFile(6,l,e)}}}),t._v(" "),!button.selectedFile&&button.showError?e("span",{staticClass:"alert-message"},[t._v("โปรดเลือกรูปภาพ")]):t._e()])])}))],2),t._v(" "),e("br"),t._v(" "),e("div",[e(f.a,{attrs:{label:"รายละเอียดเพิ่มเติมขั้นตอนที่ 6",filled:""},model:{value:t.step6comment,callback:function(e){t.step6comment=e},expression:"step6comment"}})],1),t._v(" "),e(m.a,{staticClass:"justify-center"},[e("button-text",{ref:"imageRef6",attrs:{editable:t.editable6,"editable-text":t.editableText6}})],1)],1),t._v(" "),e("div",{staticClass:"uploadbottombutt"},[e(l.a,{staticClass:"v-btn--is-elevated v-btn--has-bg thene--light v-size--default uploadbottombuttmargin",staticStyle:{background:"transparent",border:"1px solid"},on:{click:t.toBack}},[t._v("ย้อนกลับ")]),t._v(" "),e(l.a,{staticClass:"v-btn--is-elevated v-btn--has-bg theme--light v-size--default dark uploadbottombuttmargin",staticStyle:{background:"#ed1c24",width:"95px",color:"white"},on:{click:t.nextPage}},[t._v("ต่อไป")])],1),t._v(" "),e(d.a,{attrs:{persistent:"","max-width":300,"max-height":300},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(r.a,[e(o.b,{staticClass:"text-dialog"},[t._v("โปรดเลือกรูปภาพทุกขั้นตอน")]),t._v(" "),e(o.a,{staticClass:"btn-distance"},[e(l.a,{staticClass:"v-btn--is-elevated v-btn--has-bg theme--light v-size--default dark",staticStyle:{background:"#ed1c24",width:"95px",color:"white"},on:{click:t.confirmDialog}},[t._v("ตกลง")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{NavTitle:n(643).default,VhcStep1:n(843).default,ButtonText:n(700).default})}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[25,14],{639:function(e,t,r){var content=r(642);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(20).default)("0fd9b60e",content,!0,{sourceMap:!1})},641:function(e,t,r){"use strict";r(639)},642:function(e,t,r){var n=r(19)((function(i){return i[1]}));n.push([e.i,".navbar{align-items:center;display:flex;height:68px;justify-content:space-between;padding:10px}.backBut,.navbar{background-color:#cf1818}.text-center{color:#fff;flex:1;text-align:center}@media screen and (max-width:768px){.navbar{height:auto}.Text-center{margin-bottom:20px;margin-top:20px}}",""]),n.locals={},e.exports=n},643:function(e,t,r){"use strict";r.r(t);var n=r(212),o={props:{title:{type:String,default:"MyApp"}},methods:{goBack:function(){this.$router.go(-1)}}},l=(r(641),r(43)),component=Object(l.a)(o,(function(){var e=this,t=e._self._c;return t("nav",{staticClass:"navbar"},[t("button",{staticClass:"backBut",on:{click:e.goBack}},[t(n.a,[e._v("mdi-light mdi-chevron-left")])],1),e._v(" "),t("h1",{staticClass:"text-center"},[e._v(e._s(e.title))])])}),[],!1,null,null,null);t.default=component.exports},735:function(e,t,r){var content=r(799);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(20).default)("1eac18bf",content,!0,{sourceMap:!1})},798:function(e,t,r){"use strict";r(735)},799:function(e,t,r){var n=r(19)((function(i){return i[1]}));n.push([e.i,".button-wrapper{text-align:center}.Textcustomer{font-weight:700}hr{border:1px solid #000;height:1px;margin-bottom:20px}.v-dialog{max-width:600px;overflow-x:hidden;overflow-y:auto}.textname-navbar{text-align:center}.boxline{border:1px solid #c5c5c5;border-radius:5px;margin-bottom:5px}",""]),n.locals={},e.exports=n},852:function(e,t,r){"use strict";r.r(t);var n=r(623),o=r(209),l=r(180),c=r(675),d=r(634),h=r(866),m=r(731),_=r(212),v=r(211),f=r(139),x=r(98),y=r(730),k=r(684),N=r(754),C=r(733),w=r(682),R=r(661),M=r(683),E=r(844),D=r(56),$=r(246),S=(r(11),r(15),r(14),r(6),r(17),r(13),r(18),r(4)),V=r(3),O=(r(26),r(86));function T(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function I(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?T(Object(source),!0).forEach((function(t){Object(V.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):T(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var j={data:function(){return{carRegistration:"",isCarRegistrationValid:!1,step:1,adFormats:["นางสาว","นาง","นาย"],radios1:null,radios2:null,listname:"",carRegisteration:"",showList:!1,showCarList:!1,carList:[],names:[],years:[],searchlist:[],carSearch:"",carRegisterationErrorMessages:[],VINErrorMessages:[],machineNumberErrorMessages:[],relation:{cus_no:"",ahistory_id:""}}},computed:{pageTitle:function(){return"บันทึกข้อมูลรถ"},watch:{carRegistration:function(e){this.carRegisteration||(this.carRegisterationErrorMessages.push("กรุณากรอกข้อมูลให้ครบ"),this.carRegisterationErrorMessages=[]),this.VIN||(this.VINErrorMessages.push("กรุณากรอกข้อมูลให้ครบ"),this.VINErrorMessages=[]),this.machineNumber||(this.machineNumberErrorMessages.push("กรุณากรอกข้อมูลให้ครบ"),this.machineNumberErrorMessages=[]),this.carRegisteration&&this.VIN&&this.machineNumber?this.step<3&&this.step++:this.snackbar=!0,this.isCarRegistrationValid=e.length>0}},isFormValid:function(){return this.carRegisteration&&this.VIN&&this.machineNumber}},mounted:function(){this.getYear()},methods:I(I({},Object(O.b)(["setCar","getcar","getCarRegister"])),{},{getYear:function(){for(var e=[],t=(new Date).getFullYear();t>=1900;t--)e.push(t);this.years=e},handlePrependClick:function(){this.hideAlertTextcarReg(),this.showCarList=!0},savingdata:function(){this.setCar(),this.getcar()},getcar:function(){var e={carRegisteration:this.carRegisteration,VIN:this.VIN,machineNumber:this.machineNumber,"ปีที่ผลิต":this.year_of_manufacture,"วันที่ส่งมอบ":this.delivery_date,carBrand:this.carBrand,"บริษัทที่จำหน่าย":this.sale_company,cargroup:this.cargroup,"กลุ่ม":this.group,"เลขDN":this.DN_numer,carsize:this.carsize,carcolor:this.carcolor,modelsvgroup:this.modelsvgroup,"กลุ่มรุ่น":this.groupmodel,dn_code:this.dn_code,Enginemodel:this.engine_model,Modelgroupsale:this.model_group_sale,carType:this.carType,carowner:this.listname};this.$store.dispatch("summarySet",e),this.$router.push("/register/car-sum")},getCarRegister:function(){var e=this;return Object(S.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===e.carSearch){t.next=7;break}return t.next=3,e.$store.dispatch("getCarRegister",e.carSearch);case 3:return t.next=5,e.$store.state.plainCarRegister.carRegister;case 5:r=t.sent,e.carList=r;case 7:case"end":return t.stop()}}),t)})))()},getCustomerName:function(){var e=this;return Object(S.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===e.searchlist){t.next=7;break}return t.next=3,e.$store.dispatch("getCustomerName",e.searchlist);case 3:return t.next=5,e.$store.state.plainCustomerName.nameList;case 5:r=t.sent,e.names=r;case 7:case"end":return t.stop()}}),t)})))()},setCar:function(){var e={chassis:this.VIN,full_chassis:this.full_chassis,full_engin:this.full_engin,engin_id:this.machineNumber,register:this.carRegisteration,dn_code:this.dn_code,register_province:this.register_province,carBrand:this.carBrand,carType:this.carType,modelsvgroup:this.modelsvgroup,modelcd:this.modelcd,cargroup:this.cargroup,carsize:this.carsize,carcolor:this.carcolor,cardealer:this.cardealer,emp_id:this.emp_id};this.$store.dispatch("setCarState",e)},checkStep:function(){this.carRegisterationErrorMessages=[],this.VINErrorMessages=[],this.machineNumberErrorMessages=[],this.carRegisteration||this.carRegisterationErrorMessages.push("กรุณากรอกข้อมูลให้ครบ"),this.VIN||this.VINErrorMessages.push("กรุณากรอกข้อมูลให้ครบ"),this.machineNumber||this.machineNumberErrorMessages.push("กรุณากรอกข้อมูลให้ครบ"),this.carRegisteration&&this.VIN&&this.machineNumber?this.step<3&&this.step++:this.snackbar=!0},hideAlertTextcarReg:function(){this.carRegisterationErrorMessages=[]},hideAlertTextVINE:function(){this.VINErrorMessages=[]},hideAlertTextmachineNum:function(){this.machineNumberErrorMessages=[]},nextStep:function(){this.step<3&&this.step++},prevStep:function(){this.step>1&&this.step--},toBack:function(){this.$router.go(-1)},selectName:function(e){this.listname=e.Cus_Name+" "+e.Cus_Surename,this.showList=!1,this.relation.cus_no=e.CusNo,this.setRelation()},setRelation:function(){""!==this.relation.cus_no&&""!==this.relation.ahistory_id&&this.$store.dispatch("setRelation",this.relation)},clearForms:function(){this.VIN="",this.machineNumber="",this.year_of_manufacture="",this.delivery_date="",this.carBrand="",this.sale_company="",this.listname="",this.cargroup="",this.group="",this.DN_numer="",this.carsize="",this.carcolor="",this.modelsvgroup="",this.groupmodel="",this.dn_code="",this.engine_model="",this.model_group_sale="",this.carType="",this.$store.dispatch("clearRelation")},selectCar:function(e){var t=this;return Object(S.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.$store.dispatch("clearRelation"),t.carRegisteration=e.register,r.next=4,t.$store.dispatch("getCarDetail",e.car_id);case 4:t.relation.ahistory_id=e.car_id,t.showCarList=!1,t.relation.cus_no="",t.setRelation(),t.filledFromSelect();case 9:case"end":return r.stop()}}),r)})))()},filledFromSelect:function(){this.VIN=this.$store.state.cardetail.carDetail.chassis,this.machineNumber=this.$store.state.cardetail.carDetail.engin_id,this.year_of_manufacture=this.$store.state.cardetail.carDetail.year,this.delivery_date=this.$store.state.cardetail.carDetail.deliver_day,this.carBrand=this.$store.state.cardetail.carDetail.brand_name,this.sale_company=this.$store.state.cardetail.carDetail.company_sell_name,""!==this.$store.state.cardetail.carDetail.cusNo?this.listname=this.$store.state.cardetail.customerResults.Cus_Name+" "+this.$store.state.cardetail.customerResults.Cus_Surename:this.listname="",this.cargroup=this.$store.state.cardetail.carDetail.model,this.group=this.$store.state.cardetail.carDetail.group_name,this.DN_numer=this.$store.state.cardetail.carDetail.dn_code,this.carsize="",this.carcolor=this.$store.state.cardetail.carDetail.color_name,this.modelsvgroup=this.$store.state.cardetail.carDetail.ModelGroupSale,this.groupmodel=this.$store.state.cardetail.carDetail.fullmodel_name,this.dn_code=this.$store.state.cardetail.carDetail.dn_code,this.engine_model=this.$store.state.cardetail.carDetail.enginemodel,this.model_group_sale=this.$store.state.cardetail.carDetail.ModelGroupSale,this.carType=this.$store.state.cardetail.carDetail.GearType}})},L=(r(798),r(43)),component=Object(L.a)(j,(function(){var e=this,t=e._self._c;return t("div",[t("nav-title",{attrs:{title:e.pageTitle}}),e._v(" "),t(d.a,[t(w.a,{model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[t(R.a,[t(M.a,{attrs:{step:"1",color:"red"}},[e._v("ข้อมูลรถ")]),e._v(" "),t(m.a),e._v(" "),t(M.a,{attrs:{step:"2",color:"red"}},[e._v("ประเภทรถ/กลุ่มรถ")]),e._v(" "),t(m.a),e._v(" "),t(M.a,{attrs:{step:"3",color:"red"}},[e._v("Model")])],1)],1),e._v(" "),t(c.a,{attrs:{xs12:"",md6:""}},[1===e.step?t("div",[t("br"),e._v(" "),t("v-text",{staticClass:"Textcustomer"},[e._v("ข้อมูลรถ")]),e._v(" "),t("hr"),e._v(" "),t(E.a,{attrs:{label:"ทะเบียน",filled:"","error-messages":e.carRegisterationErrorMessages,rules:[],"append-icon":"mdi-magnify"},on:{"click:append":e.handlePrependClick,input:e.clearForms},model:{value:e.carRegisteration,callback:function(t){e.carRegisteration=t},expression:"carRegisteration"}},[e.carRegisterationErrorMessages.length>0?t(y.a,{attrs:{"error-messages":e.carRegisterationErrorMessages}}):e._e()],1),e._v(" "),t(h.a,{staticClass:"dialog-list",attrs:{"max-width":"600"},model:{value:e.showCarList,callback:function(t){e.showCarList=t},expression:"showCarList"}},[t(o.a,[t(D.a,{attrs:{color:"#CF1818"}},[t(c.a,{staticClass:"d-flex justify-space-around"},[t($.a,{staticClass:"white--text"},[e._v("เลือกเลขทะเบียน")])],1)],1),e._v(" "),t(k.a,[t(c.a,{attrs:{cols:"12"}},[t(k.a,{staticClass:"ma-2"},[t(c.a,{attrs:{cols:"11"}},[t(E.a,{attrs:{placeholder:"ค้นหาเลขทะเบียน","single-line":"","hide-details":"",color:"red"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getCarRegister.apply(null,arguments)}},model:{value:e.carSearch,callback:function(t){e.carSearch=t},expression:"carSearch"}})],1),e._v(" "),t(c.a,{staticClass:"d-flex align-center justify-center",attrs:{cols:"1"}},[t(_.a,{attrs:{color:"red"},on:{click:e.getCarRegister}},[e._v("mdi-magnify")])],1)],1)],1)],1),e._v(" "),t(l.a,[t(v.a,e._l(e.carList,(function(r){return t(f.a,{key:r,staticClass:"boxline",attrs:{outlined:!0},on:{click:function(t){return e.selectCar(r)}}},[t(x.a,[t(x.a,[e._v("\n\t\t\t\t\t\t\t\t\t\t\t"+e._s(r.register)+"\n\t\t\t\t\t\t\t\t\t\t")])],1)],1)})),1)],1)],1)],1),e._v(" "),t(E.a,{attrs:{label:"เลขแชสซี",filled:"",rules:[e.numberRule],"error-messages":e.VINErrorMessages},on:{input:e.hideAlertTextVINE},model:{value:e.VIN,callback:function(t){e.VIN=t},expression:"VIN"}},[e.VINErrorMessages.length>0?t(y.a,{attrs:{"error-messages":e.VINErrorMessages}}):e._e()],1),e._v(" "),t(E.a,{attrs:{label:"เลขเครื่อง",filled:"",rules:[e.numberRule],"error-messages":e.machineNumberErrorMessages},on:{input:e.hideAlertTextmachineNum},model:{value:e.machineNumber,callback:function(t){e.machineNumber=t},expression:"machineNumber"}},[e.machineNumberErrorMessages.length>0?t(y.a,{attrs:{"error-messages":e.machineNumberErrorMessages}}):e._e()],1),e._v(" "),t(E.a,{attrs:{label:"เจ้าของรถ",filled:"",readonly:"","append-icon":"mdi-magnify"},on:{"click:append":function(t){e.showList=!0}},model:{value:e.listname,callback:function(t){e.listname=t},expression:"listname"}}),e._v(" "),t(h.a,{staticClass:"dialog-list",attrs:{"max-width":"600"},model:{value:e.showList,callback:function(t){e.showList=t},expression:"showList"}},[t(o.a,[t(D.a,{attrs:{color:"#CF1818"}},[t(c.a,{staticClass:"d-flex justify-space-around"},[t($.a,{staticClass:"white--text"},[e._v("เลือกรายชื่อ")])],1)],1),e._v(" "),t(k.a,[t(c.a,{attrs:{cols:"12"}},[t(E.a,{staticClass:"ma-2",attrs:{"append-icon":"mdi-magnify",placeholder:"ค้นหารายชื่อ","single-line":"","hide-details":"",color:"red"},on:{"click:append":e.getCustomerName,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getCustomerName.apply(null,arguments)}},model:{value:e.searchlist,callback:function(t){e.searchlist=t},expression:"searchlist"}})],1)],1),e._v(" "),t(l.a,[t(v.a,e._l(e.names,(function(r){return t(f.a,{key:r,staticClass:"boxline",attrs:{outlined:!0},on:{click:function(t){return e.selectName(r)}}},[t(x.a,[e._v(" "+e._s(r.Cus_Name)+" "+e._s(r.Cus_Surename)+" ")])],1)})),1)],1)],1)],1),e._v(" "),t(N.a,{attrs:{items:e.years,label:"ปีที่ผลิต",filled:""},model:{value:e.year_of_manufacture,callback:function(t){e.year_of_manufacture=t},expression:"year_of_manufacture"}}),e._v(" "),t(E.a,{attrs:{type:"date",label:"วันที่ส่งมอบ",filled:""},model:{value:e.delivery_date,callback:function(t){e.delivery_date=t},expression:"delivery_date"}}),e._v(" "),t(E.a,{attrs:{label:"ยี่ห้อ",filled:""},model:{value:e.carBrand,callback:function(t){e.carBrand=t},expression:"carBrand"}}),e._v(" "),t(E.a,{attrs:{label:"บริษัทที่จำหน่าย",filled:""},model:{value:e.sale_company,callback:function(t){e.sale_company=t},expression:"sale_company"}})],1):e._e()]),e._v(" "),t(c.a,{attrs:{xs12:"",md6:""}},[2===e.step?t("div",[t("v-text",{staticClass:"Textcustomer"},[e._v("ประเภทรถ/กลุ่มรถ")]),e._v(" "),t("hr"),e._v(" "),t(E.a,{attrs:{label:"รุ่นรถ",filled:""},model:{value:e.cargroup,callback:function(t){e.cargroup=t},expression:"cargroup"}}),e._v(" "),t(E.a,{attrs:{label:"กลุ่ม",filled:""},model:{value:e.group,callback:function(t){e.group=t},expression:"group"}}),e._v(" "),t(E.a,{attrs:{label:"เลข DN",filled:""},model:{value:e.DN_numer,callback:function(t){e.DN_numer=t},expression:"DN_numer"}}),e._v(" "),t(E.a,{attrs:{label:"ขนาด",filled:""},model:{value:e.carsize,callback:function(t){e.carsize=t},expression:"carsize"}}),e._v(" "),t(E.a,{attrs:{label:"สี",filled:""},model:{value:e.carcolor,callback:function(t){e.carcolor=t},expression:"carcolor"}}),e._v(" "),t(E.a,{attrs:{label:"กลุ่มรุ่นรถ",filled:""},model:{value:e.modelsvgroup,callback:function(t){e.modelsvgroup=t},expression:"modelsvgroup"}}),e._v(" "),t(E.a,{attrs:{label:"กลุ่มรุ่น",filled:""},model:{value:e.groupmodel,callback:function(t){e.groupmodel=t},expression:"groupmodel"}}),e._v(" "),t(E.a,{attrs:{label:"D/N",filled:""},model:{value:e.dn_code,callback:function(t){e.dn_code=t},expression:"dn_code"}})],1):e._e()]),e._v(" "),t(c.a,{attrs:{xs12:"",md6:""}},[3===e.step?t("div",[t("v-text",{staticClass:"Textcustomer"},[e._v("Model")]),e._v(" "),t("hr"),e._v(" "),t(E.a,{attrs:{label:"Engine model",filled:""},model:{value:e.engine_model,callback:function(t){e.engine_model=t},expression:"engine_model"}}),e._v(" "),t(E.a,{attrs:{label:"Model group sale",filled:""},model:{value:e.model_group_sale,callback:function(t){e.model_group_sale=t},expression:"model_group_sale"}}),e._v(" "),t(E.a,{attrs:{label:"Gear Type",filled:""},model:{value:e.carType,callback:function(t){e.carType=t},expression:"carType"}})],1):e._e()]),e._v(" "),t(C.a,{attrs:{timeout:4e3,color:"red"},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" Please fill in required fields. ")]),e._v(" "),t("div",{staticClass:"button-wrapper"},[1==e.step?t(n.a,{staticClass:"v-btn--is-elevated v-btn--has-bg thene--light v-size--default",staticStyle:{background:"transparent",border:"1px solid"},on:{click:e.toBack}},[e._v("ย้อนกลับ")]):e._e(),e._v(" "),1==e.step?t(n.a,{staticClass:"v-btn--is-elevated v-btn--has-bg theme--light v-size--default dark",staticStyle:{background:"#ed1c24",width:"95px",color:"white"},on:{click:e.checkStep}},[e._v("ต่อไป")]):e._e(),e._v(" "),2==e.step?t(n.a,{staticClass:"v-btn--is-elevated v-btn--has-bg thene--light v-size--default",staticStyle:{background:"transparent",border:"1px solid"},on:{click:e.prevStep}},[e._v("ย้อนกลับ")]):e._e(),e._v(" "),2==e.step?t(n.a,{staticClass:"v-btn--is-elevated v-btn--has-bg theme--light v-size--default dark",staticStyle:{background:"#ed1c24",width:"95px",color:"white"},on:{click:e.nextStep}},[e._v("ต่อไป")]):e._e(),e._v(" "),3==e.step?t(n.a,{staticClass:"v-btn--is-elevated v-btn--has-bg thene--light v-size--default",staticStyle:{background:"transparent",border:"1px solid"},on:{click:e.prevStep}},[e._v("ย้อนกลับ")]):e._e(),e._v(" "),3==e.step?t(n.a,{staticClass:"v-btn--is-elevated v-btn--has-bg theme--light v-size--default dark",staticStyle:{background:"#ed1c24",width:"95px",color:"white"},on:{click:e.savingdata}},[e._v("ต่อไป")]):e._e()],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{NavTitle:r(643).default})}}]);